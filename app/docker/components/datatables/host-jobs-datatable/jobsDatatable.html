<div class="row">
  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="datatable">
      <rd-widget>
        <rd-widget-body classes="no-padding">
          <div class="toolBar">
            <div class="toolBarTitle">
              <i class="fa" ng-class="$ctrl.titleIcon" aria-hidden="true" style="margin-right: 2px;"></i>
              {{ $ctrl.titleText }}
            </div>
            <div class="settings">
              <span class="setting" ng-class="{ 'setting-active': $ctrl.columnVisibility.state.open }" uib-dropdown
                dropdown-append-to-body auto-close="disabled" is-open="$ctrl.columnVisibility.state.open">
                <span uib-dropdown-toggle><i class="fa fa-columns space-right" aria-hidden="true"></i>Columns</span>
                <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>
                  <div class="tableMenu">
                    <div class="menuHeader">
                      Show / Hide Columns
                    </div>
                    <div class="menuContent">
                      <div class="md-checkbox">
                        <input id="col_vis_id" ng-click="$ctrl.onColumnVisibilityChange()" type="checkbox" ng-model="$ctrl.columnVisibility.columns.id.display" />
                        <label for="col_vis_id" ng-bind="$ctrl.columnVisibility.columns.id.label"></label>
                      </div>
                      <div class="md-checkbox">
                        <input id="col_vis_state" ng-click="$ctrl.onColumnVisibilityChange()" type="checkbox" ng-model="$ctrl.columnVisibility.columns.state.display" />
                        <label for="col_vis_state" ng-bind="$ctrl.columnVisibility.columns.state.label"></label>
                      </div>
                      <div class="md-checkbox">
                        <input id="col_vis_created" ng-click="$ctrl.onColumnVisibilityChange()" type="checkbox"
                          ng-model="$ctrl.columnVisibility.columns.created.display" />
                        <label for="col_vis_created" ng-bind="$ctrl.columnVisibility.columns.created.label"></label>
                      </div>
                    </div>
                    <div>
                      <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.columnVisibility.state.open = false;">Close</a>
                    </div>
                  </div>
                </div>
              </span>
              <span class="setting" ng-class="{ 'setting-active': $ctrl.settings.open }" uib-dropdown
                dropdown-append-to-body auto-close="disabled" is-open="$ctrl.settings.open">
                <span uib-dropdown-toggle><i class="fa fa-cog" aria-hidden="true"></i> Settings</span>
                <div class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>
                  <div class="tableMenu">
                    <div class="menuHeader">
                      Table settings
                    </div>
                    <div class="menuContent">
                      <div class="md-checkbox">
                        <input id="setting_container_trunc" type="checkbox" ng-model="$ctrl.settings.truncateContainerId"
                          ng-change="$ctrl.onSettingsContainerIdTruncateChange()" />
                        <label for="setting_container_trunc">Truncate container ID</label>
                      </div>
                    </div>
                    <div>
                      <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.settings.open = false;">Close</a>
                    </div>
                  </div>
                </div>
              </span>
            </div>
          </div>
          <div class="searchBar">
            <i class="fa fa-search searchIcon" aria-hidden="true"></i>
            <input type="text" class="searchInput" ng-model="$ctrl.state.textFilter" placeholder="Search..." auto-focus>
          </div>
          <div class="table-responsive">
            <table class="table table-hover table-filters nowrap-cells">
              <thead>
                <tr>
                  <th ng-show="$ctrl.columnVisibility.columns.id.display">
                    <a ng-click="$ctrl.changeOrderBy('Id')">
                      Id
                      <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === 'Id' && !$ctrl.state.reverseOrder"></i>
                      <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === 'Id' && $ctrl.state.reverseOrder"></i>
                    </a>
                  </th>
                  <th uib-dropdown dropdown-append-to-body auto-close="disabled" is-open="$ctrl.filters.state.open"
                    ng-show="$ctrl.columnVisibility.columns.state.display">
                    <a ng-click="$ctrl.changeOrderBy('Status')">
                      State
                      <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === 'Status' && !$ctrl.state.reverseOrder"></i>
                      <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === 'Status' && $ctrl.state.reverseOrder"></i>
                    </a>
                    <div>
                      <span uib-dropdown-toggle class="table-filter" ng-if="!$ctrl.filters.state.enabled"> Filter
                        <i class="fa fa-filter" aria-hidden="true"></i></span>
                      <span uib-dropdown-toggle class="table-filter filter-active" ng-if="$ctrl.filters.state.enabled">Filter
                        <i class="fa fa-check" aria-hidden="true"></i></span>
                    </div>
                    <div class="dropdown-menu" uib-dropdown-menu>
                      <div class="tableMenu">
                        <div class="menuHeader">
                          Filter by state
                        </div>
                        <div class="menuContent">
                          <div class="md-checkbox" ng-repeat="filter in $ctrl.filters.state.values track by $index">
                            <input id="filter_state_{{ $index }}" type="checkbox" ng-model="filter.display" ng-change="$ctrl.onStateFilterChange()" />
                            <label for="filter_state_{{ $index }}">{{ filter.label }}</label>
                          </div>
                        </div>
                        <div>
                          <a type="button" class="btn btn-default btn-sm" ng-click="$ctrl.filters.state.open = false;">Close</a>
                        </div>
                      </div>
                    </div>
                  </th>
                  <th ng-show="$ctrl.columnVisibility.columns.created.display">
                    <a ng-click="$ctrl.changeOrderBy('Created')">
                      <i class="fa fa-sort-alpha-down" aria-hidden="true" ng-if="$ctrl.state.orderBy === 'Created' && !$ctrl.state.reverseOrder"></i>
                      <i class="fa fa-sort-alpha-up" aria-hidden="true" ng-if="$ctrl.state.orderBy === 'Created' && $ctrl.state.reverseOrder"></i>
                      Created
                    </a>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr dir-paginate="item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))">
                  <td ng-show="$ctrl.columnVisibility.columns.id.display">
                    <a ui-sref="docker.containers.container({ id: item.Id, nodeName: item.NodeName })" title="{{ item.Id }}">
                      {{ item.Id | truncate: $ctrl.settings.containerIdTruncateSize }}</a>
                  </td>
                  <td ng-show="$ctrl.columnVisibility.columns.state.display">
                    <span ng-if="['starting','healthy','unhealthy'].indexOf(item.Status) !== -1" class="label label-{{ item.Status|containerstatusbadge }} interactive"
                      uib-tooltip="This container has a health check">{{ item.Status }}</span>
                    <span ng-if="['starting','healthy','unhealthy'].indexOf(item.Status) === -1" class="label label-{{ item.Status|containerstatusbadge }}">
                      {{ item.Status }}</span>
                  </td>
                  <td ng-show="$ctrl.columnVisibility.columns.created.display">
                    {{item.Created | getisodatefromtimestamp}}
                  </td>
                </tr>
                <tr ng-if="!$ctrl.dataset">
                  <td colspan="9" class="text-center text-muted">Loading...</td>
                </tr>
                <tr ng-if="$ctrl.state.filteredDataSet.length === 0">
                  <td colspan="9" class="text-center text-muted">No jobs available.</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="footer" ng-if="$ctrl.dataset">
            <div class="paginationControls">
              <form class="form-inline">
                <span class="limitSelector">
                  <span style="margin-right: 5px;">
                    Items per page
                  </span>
                  <select class="form-control" ng-model="$ctrl.state.paginatedItemLimit" ng-change="$ctrl.changePaginationLimit()">
                    <option value="0">All</option>
                    <option value="10">10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                  </select>
                </span>
                <dir-pagination-controls max-size="5"></dir-pagination-controls>
              </form>
            </div>
          </div>
        </rd-widget-body>
      </rd-widget>
    </div>
  </div>
</div>